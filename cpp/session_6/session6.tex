% !TEX encoding = UTF-8 Unicode
% -*- coding: UTF-8; -*-
% vim: set fenc=utf-8
\documentclass[svgnames]{beamer}
\setlength{\tabcolsep}{3em}
\usetheme[pageofpages=of,% String used between the current page and the
                         % total page count.
          titleline=true,
          alternativetitlepage=true% Use the fancy title page.
          ]{Torino}
\usecolortheme{metascale}
\usepackage{listings}

\ifxetex
  \usepackage{fontspec}
  \defaultfontfeatures{Mapping=tex-text}
  \setsansfont[ItalicFont={GillSansMTPro-BookItalic}]{GillSansMTPro-Book}
  \setmonofont{Inconsolata}
  \newcommand{\codefont}{\ttfamily}
\else
  \usepackage[utf8x]{inputenc}
  %\usepackage[nott]{inconsolata}
  %\newcommand{\codefont}{\fontfamily{fi4}\selectfont}
  \usepackage{inconsolata}
  \newcommand{\codefont}{\ttfamily}
\fi
\usepackage{graphicx}
\usepackage{color}
%\usepackage{multicol}
%\usepackage{array}
%\usepackage{colortbl}
\usepackage[frenchb]{babel}
%\usepackage{pgfplots}
%\usepackage{standalone}
\usepackage{relsize}

% setup tikz
%% \usepackage{tikz}
%% \usetikzlibrary{calc,trees,positioning,arrows,chains,shapes.geometric,%
%% decorations.pathreplacing,decorations.pathmorphing,shapes,%
%% matrix,shapes.symbols,plotmarks,decorations.markings,shadows,%
%% snakes,backgrounds}
\def\print#1{\pgfmathparse{#1}\pgfmathresult}
\def\colx{Blue!40}
\def\coly{Blue!20}
\def\colz{white}

\def\C++{\textup{C}\nolinebreak[4]\hspace{-.05em}\raisebox{.4ex}{\relsize{-3}{\textbf{++}}}}

% vertical align box
\newcommand*{\vcenteredhbox}[1]{\begingroup
\setbox0=\hbox{#1}\parbox{\wd0}{\box0}\endgroup}

\lstdefinestyle{customcpp}{language=C++,
        basicstyle=\footnotesize\codefont,
        tabsize=2,
        numberstyle=\footnotesize,
        showstringspaces=false,
        %columns=fullflexible,
        keywordstyle=\color[rgb]{0.64,0.13,0.11},
        identifierstyle=,
        commentstyle=\color[rgb]{0.27,0.27,0.28},
        stringstyle=\color[rgb]{0.82,0.16,0.14},
        morekeywords=noexcept
        }

\definecolor{hlcolor}{rgb}{0.88,0.88,0.88}
\pgfdeclareimage[interpolate=true,width=9cm]{move}{move}

\NoAutoSpaceBeforeFDP

\title{Programmation C++ Avancée}
\subtitle{Session 6 -- La Bibliothèque standard}
\author{Joel Falcou \and Guillaume Melquiond}
\institute{Laboratoire de Recherche en Informatique}
\date{}

\subject{Computer Science}

\begin{document}
\include{sourcecode}

\begin{frame}[plain]
\titlepage
\end{frame}
\setcounter{framenumber}{0}
\frame
{
  \frametitle{La sainte trinité du standard}
  \begin{block}{Conteneurs}
  \begin{itemize}\footnotesize
  \item Encapsulation des TDA classiques
  \item Paramétrables au niveau type et mémoire
  \item Parcourables via des ...
  \end{itemize}
  \end{block}{}
  \begin{block}{Iterateurs}<2->
  \begin{itemize}\footnotesize
  \item Abstraction du pointeur
  \item Utilisables dans des ...
  \end{itemize}
  \end{block}{}
  \begin{block}{Algorithmes}<3->
  \begin{itemize}\footnotesize
  \item Parcours décorrélé du Conteneur
  \item Garantie de complexité et de correction
  \item Paramétrables via des fonctions utilisateurs
  \end{itemize}
  \end{block}{}
}

\frame
{
  \frametitle{Conteneurs standards}
  \begin{block}{Conteneurs Séquentiels}
  \begin{itemize}
  \item \cpptype{vector},\cpptype{array}
  \item \cpptype{list},\cpptype{forward\_list}
  \item \cpptype{deque}
  \end{itemize}
  \end{block}{}

  \begin{block}{Conteneurs Associatifs}
  \begin{itemize}
  \item \cpptype{set},\cpptype{map}
  \item \cpptype{multi\_set},\cpptype{multi\_map}
  \item \cpptype{unordered\_set},\cpptype{unordered\_map}
  \item \cpptype{unordered\_multi\_set},\cpptype{unordered\_multi\_map}
  \end{itemize}
  \end{block}{}
}


\frame
{
  \frametitle{Algorithmes standards}
  \begin{columns}[t]
    \begin{column}{5cm}
    \begin{itemize}
    \item \texttt{all\_of,any\_of,none\_of}
    \item \texttt{for\_each}
    \item \texttt{count, count\_if}
    \item \texttt{mismatch, equal}
    \item \texttt{find, find\_if}
    \item \texttt{find\_end, find\_first\_of}
    \item \texttt{search, search\_n}
    \item \texttt{nth\_element}
    \item \texttt{max\_element,min\_element}
    \end{itemize}
    \end{column}
    \begin{column}{5cm}
    \begin{itemize}
    \item \texttt{transform}
    \item \texttt{copy,copy\_if}
    \item \texttt{remove,remove\_if}
    \item \texttt{replace,replace\_if}
    \item \texttt{reverse,rotate,shuffle}
    \item \texttt{sort, stable\_sort}
    \item \texttt{fill, iota}
    \item \texttt{accumulate}
    \item \texttt{inner\_product}
    \end{itemize}
    \end{column}
  \end{columns}
}

\frame
{
  \frametitle{Fonction anonyme}
  \begin{block}{Objectifs}
  \begin{itemize}
  \item Augmenter la localit\'e du code
  \item Simplifier le design de fonctions utilitaires
  \item Notion de \textit{closure} et de fonctions d'ordre sup\'erieur
  \end{itemize}
  \end{block}

  \begin{block}{Principes}
  \begin{itemize}
  \item Bloc de code fonctionnel sans identit\'e
  \item Syntaxe:\\
  \sourcecodecpp{code/imperatif/lambda.cpp}    
  \end{itemize}    
  \end{block}
}

\frame
{
  \frametitle{Fonction anonyme}
  \begin{block}{Type de retour}
  \begin{itemize}
  \item C++11 : Automatique si la fonction n'est qu'un \texttt{return}
  \item C++11 : Autre cas, \`a sp\'ecifier via \texttt{->}
  \item C++14 : D\'eduction automatique
  \end{itemize}  
  \end{block}
}

\frame
{
  \frametitle{Fonction anonyme}
  \begin{block}{Param\`etres}
  \begin{itemize}
  \item C++11 : types concrets, pas de variadiques\\
  \sourcecodecpp{code/imperatif/lambda01.cpp}

  \item C++14 : types g\'en\'eriques et variadiques\\
  \sourcecodecpp{code/imperatif/lambda02.cpp}
  \end{itemize}
  \end{block}
}

\frame
{
  \frametitle{Fonction anonyme}
  \begin{block}{Capture de l'environnement}
  \begin{itemize}
  \item \texttt{[]} : environnement vide
  \item \texttt{[a]} : capture a par copie
  \item \texttt{[\&a]} : capture a par r\'ef\'erence
  \item \texttt{[=]} : tout par copie
  \item \texttt{[\&]} : tout par r\'ef\'erence
  \end{itemize}
  \end{block}

  \sourcecodecpp{code/imperatif/lambda03.cpp}
}

\frame
{
  \frametitle{Algorithmes en action}
  \only<1>{\sourcecodecpp{code/std/loop01.cpp}}
  \only<2>{\sourcecodecpp{code/std/loop02.cpp}}
  \only<3>{\sourcecodecpp{code/std/loop03.cpp}}
  \only<4>{\sourcecodecpp{code/std/loop04.cpp}}
  \only<5>{\sourcecodecpp{code/std/loop05.cpp}}
}

\end{document}
